# Vue3 打印功能 Demo

这是一个基于 Vue3 和 vue-plugin-hiprint 的打印功能演示项目，现已集成条形码和二维码打印功能。

## 🚀 功能特性

### 基础打印功能

- ✅ 基于 vue-plugin-hiprint 的打印系统
- ✅ 支持文本、图片、表格等多种元素
- ✅ 可视化的打印模板设计
- ✅ 支持预览、直接打印、导出 PDF

### 全新条形码和二维码功能

- ✅ **条形码支持**：CODE128, CODE39, EAN13, EAN8, UPC, ITF14, MSI, pharmacode, codabar
- ✅ **二维码支持**：支持多种纠错等级（L, M, Q, H）
- ✅ **实时预览**：在左侧面板中实时预览生成的条形码和二维码
- ✅ **灵活配置**：可自定义条形码格式、二维码纠错等级等参数
- ✅ **多行文本支持**：二维码支持多行文本内容

### 🏷️ 全新循环打印标签功能

- ✅ **自定义标签尺寸**：支持宽度 50-200mm，高度 30-150mm
- ✅ **批量数据管理**：表格编辑、数据导入导出、批量操作
- ✅ **循环打印控制**：打印间隔设置、实时进度监控、错误处理
- ✅ **打印流程优化**：预览、开始、停止、进度跟踪
- ✅ **多种条形码格式**：专为标签打印优化的条形码生成

## 🛠️ 技术栈

- **前端框架**: Vue 3
- **UI 组件**: Element Plus
- **打印组件**: vue-plugin-hiprint
- **条形码生成**: jsbarcode
- **二维码生成**: qrcode
- **构建工具**: Vite

## 📦 安装与运行

### 1. 克隆项目

```bash
git clone <repository-url>
cd vue-print-demo
```

### 2. 安装依赖

```bash
npm install
# 或
yarn install
```

### 3. 运行开发服务器

```bash
npm run dev
# 或
yarn dev
```

### 4. 构建生产版本

```bash
npm run build
# 或
yarn build
```

## 📋 使用说明

### 基础使用

1. 启动项目后，访问 `http://localhost:3001/`
2. 在左侧控制面板中选择模板类型
3. 配置打印参数
4. 点击相应按钮进行预览或打印

### 条形码和二维码功能

1. **选择条码模板**：在模板类型中选择"条码模板"
2. **配置条形码**：
   - 打开"启用条形码"开关
   - 输入条形码内容
   - 选择条形码格式（推荐使用 CODE128）
   - 设置是否显示文本
3. **配置二维码**：
   - 打开"启用二维码"开关
   - 输入二维码内容（支持多行文本）
   - 选择纠错等级
4. **生成预览**：点击"生成预览"按钮查看效果
5. **打印或导出**：选择预览打印、直接打印或导出 PDF

### 🏷️ 循环打印标签功能

1. **选择标签模板**：在模板类型中选择"标签模板"
2. **配置标签参数**：
   - 设置标签宽度和高度
   - 调整条形码高度和字体大小
   - 选择条形码格式
3. **管理批量数据**：
   - 在表格中直接编辑标签内容
   - 使用添加、删除、复制等操作
   - 支持数据导入导出功能
4. **设置打印参数**：
   - 配置打印间隔时间
   - 启用批量打印模式
5. **开始循环打印**：
   - 点击"预览标签"查看效果
   - 点击"开始批量打印"执行打印
   - 实时监控打印进度
   - 支持中途停止打印

## 🎯 功能演示

### 条形码示例

```javascript
{
  barcodeText: "EMP001",  // 员工编号
  barcodeFormat: "CODE128"  // 条形码格式
}
```

### 二维码示例

```javascript
{
  qrcodeText: "员工编号：EMP001\n姓名：张三\n部门：技术部",  // 多行文本
  qrErrorLevel: "M"  // 纠错等级
}
```

### 🏷️ 标签打印示例

```javascript
{
  title: "产品标签",           // 标签标题
  barcodeText: "PRD001",      // 条形码内容
  description: "产品编号PRD001" // 描述信息
}
```

## 📁 项目结构

```
vue-print-demo/
├── src/
│   ├── components/
│   │   └── PrintDemo.vue          # 主要打印演示组件
│   ├── services/
│   │   ├── printService.js        # 打印服务
│   │   ├── codeService.js         # 条形码/二维码生成服务
│   │   └── hiprintExtensions.js   # hiprint扩展
│   ├── App.vue
│   └── main.js
├── package.json
├── vite.config.js
├── README.md
├── BARCODE_QRCODE_USAGE.md        # 条形码和二维码使用说明
└── LABEL_PRINT_GUIDE.md           # 循环打印标签使用指南
```

## 🔧 核心服务

### codeService.js

- 条形码和二维码生成服务
- 支持多种格式和配置选项
- 输出 base64 格式的图片数据

### hiprintExtensions.js

- hiprint 的自定义扩展
- 注册条形码和二维码元素类型
- 提供图片元素创建方法

### printService.js

- 集成条形码和二维码到打印模板
- 处理打印数据和图片生成
- 提供完整的打印解决方案

## 🎨 界面特点

- **响应式设计**：适配不同屏幕尺寸
- **实时预览**：左侧面板实时显示生成的条形码和二维码
- **直观操作**：简洁的开关和选择控件
- **错误处理**：完善的错误提示和处理机制

## 🌟 最佳实践

1. **条形码内容**：使用简洁明了的字符串
2. **二维码内容**：可以包含丰富的信息，支持网址、联系方式等
3. **格式选择**：根据实际需求选择合适的条形码格式
4. **尺寸优化**：根据打印纸张调整条形码和二维码尺寸
5. **测试验证**：打印前务必预览，确保可以正常扫描

## 🔍 浏览器支持

- Chrome 70+
- Firefox 60+
- Safari 12+
- Edge 79+

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📞 联系方式

如有问题或建议，请通过以下方式联系：

- 创建 Issue
- 发送邮件

---

**现在您可以访问 http://localhost:3001/ 来体验完整的条形码和二维码打印功能！**
